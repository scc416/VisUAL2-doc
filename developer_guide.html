---
layout: default
title: Developer Guide - VisUAL2
custom_css: memberships.css
---

<div class="header squad-header">
    <div class="Grid container">
        <div id="header-text" class="Grid-cell">
            <h1 class="large-title">Developer Guide</h1>
            <h1 class="squad-subheading">Site is under constuction</h1>
        </div>
    </div>
</div>

<div class="section">
    <div class="Grid membership-container container">
        
        <ol>
 
 <li>
    Follow instructions to install <a href="https://yarnpkg.com/lang/en/docs/install/" target="_blank">yarn</a>(which tell you to install Node as well).</li>
    <li>
    
 Download and install the latest (2.x) <a href="https://www.microsoft.com/net/learn/get-started" target="_blank">Dotnet Core SDK</a>
  <br>  For Mac users, download and install <a href="http://www.mono-project.com/download/stable/" target="_blank">Mono</a> from official website (the version from brew is incomplete, may lead to MSB error on step 7).
    </li>
    <li>
    Download & unzip the Visual2 repo, or if contributing clone it locally, or fork it on github and then clone it locally.
    </li>
    <li>
    Navigate to the project root directory (which contains this README) in a command-line interpreter. For Windows usage make sure if possible for convenience that you have a _tabbed_ command-line interpreter that can be started direct from file explorer within a specific directory (by right-clicking on the explorer directory view). That makes things a lot more pleasant. I recommend <a href="https://github.com/zeit/hyper/releases" target="_blank">Hyper</a>, for example, runs multiple tabs and will split window between two tabs, great for running start and launch scripts concurrently in a single window. Beware that under Windows <code>Hyper</code> uses <code>ctrl-shift-C</code>, <code>ctrl-shift-V</code> for copy and paste.
    </li>
    <li>
    
    Fetch the required <code>npm</code> packages by executing <code>yarn install</code>. This project consistently uses <code>yarn</code> Node package manager instead of <code>npm</code>.
    </li>
    <li>
     On macOS or linux ensure you have <a href="https://fsprojects.github.io/Paket/installation.html" target="_blank">paket</a> installed. Run <code>setup.bat</code> (on Windows) or <code>sh setup.sh</code> (on linux or macOS). This downloads and updates the submodules, and installs their packages individually (necessary because of the submodule structure), then restores the global packages. On other systems run the statements in this file (modified if needed for your system) individually. If MSB error occur while running the script (on macOS) and you were using Mono installed by brew previously, run <code>brew uninstall mono</code> and refer to step 2 for install Mono correctly).
    </li>
    <li>
     Goto step 10 if all you want to do is to generate uptodate binaries.
    </li>
    <li>
    In a terminal window (for example under <code>hyper</code>) compile <code>fsharp</code> code to "javascript" using "webpack" by executing "yarn start" (shortcut for "yarn run start"). This runs the "start" script defined in "package.json". The "start" script  compiles everything once and then watches source files recompiling whenever any change, so it is normal run continuously throughout development. You will need to view the "yarn start" output throughout development since if compile fails the output makes this clear via red-colored text. Although Ionide will also provide error messages on code that does not compile it is possible to miss these when making quick changes.
    </li>
    <li>
    Open your "electron" app in a new terminal tab by running "yarn launch". This command will start the application and also _hot reload_ it whenever source files are recompiled, or CSS files changed. Therefore it normally also runs continuously through development. The total time from saving an updated F# source file to reload is typically 5s. Make sure you have this development environment working effectively for you: an HD screen without scaling is helpful because it allows your editor, the Visual2 app, and the command windows all to be visible simultaneously. Using Hyper "File->Split Horizontally is useful to run "lauch" and "start" concurrently.
    </li>
    <li>
     Run "yarn pack-win, yarn pack-linux, yarn pack-osx" at any time to create a set of system-specific self-contained binaries in "./dist/os-name/*" and a zip in "./dist". Each binary distribution consists of a portable directory with all dependencies, so use the appropriate one of these if you just want to run Visual2 is to double click and do not need to develop code. For osx, the easiest way to run Visual2 once it has been built is to navigate to "./dist/VisUAL2-darwin-x64" and execute "open -a VisUAL2.app" in terminal. Note that some host-target combinations will not correctly generate: "pack-osx must be executed on os-x.
    </li>
    <li>
    To see console debug printout etc from the running Visual2 app press "Ctrl-Shift-I" to toggle electron dev tools on and note that any F# printout and errors will be displayed under the console tab.</li>
    </ol>
    </div>
</div>
